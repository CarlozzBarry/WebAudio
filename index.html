<!DOCTYPE html>
<link rel="stylesheet" type="text/css" href="index.css" />

<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, user-scalable=no" />
    <title>Comparing sounds</title>
  </head>

  <body>
    <div id="container">
      <div id="instructions">
        <div>
          <h2>Comparing sounds using WebAudioXML</h2>
          Try to mimic the stored sound by making gestures on the play area!
        </div>
        <div id="buttons">
          <button onclick="webAudioXML.playSequence('_storedGesture')">
            1. Play sound to mimic
          </button>
          <button
            id="button2"
            disabled
            onclick="webAudioXML.lastGesture.play()"
          >
            3. Play my last sound
          </button>
        </div>
      </div>
      <div
        id="touchArea"
        onpointerdown="document.getElementById(this.id).innerHTML = '' ,
        document.getElementById(this.id).style.cssText = 'border-color:transparent;'"
        onpointerup="document.getElementById('button2').disabled = false, 
        compare(webAudioXML.lastGesture, webAudioXML.getSequence('_storedGesture')) ? 
        (document.getElementById('touchArea').style.cssText = 'border-color:green;', 
        document.getElementById('touchArea').innerHTML = 'YOU DID IT! Congratulations') : 
        document.getElementById('touchArea').style.cssText = 'border-color:red;', 
        document.getElementById('touchArea').innerHTML = 'The sounds do not match.. <br/> Try again!'"
      >
        2. Tap and slide to play
      </div>
    </div>

    <script src="WebAudioXML.js" data-source="audio.xml"></script>
    <script src="eventData.js"></script>
    <script src="comparison.js"></script>
  </body>
</html>
