<!DOCTYPE html>
<link rel="stylesheet" type="text/css" href="index.css" />
<!--

<h2>Click and slide to play</h2>
<ul>
	<li>Pointer relative X position controls pitch</li>
	<li>Pointer relative Y position controls cutoff frequency of biquad filter</li>
</ul>
<p>WebAudioXML is a javascript library that makes it possible to create
	Web Audio applications using XML syntax. It is a PhD research project by
	Hans Lindetorp. Please follow me on
	<a href="https://hans.arapoviclindetorp.se">https://hans.arapoviclindetorp.se</a> and
	<a href="https://www.facebook.com/hanslindetorpresearch/">https://www.facebook.com/hanslindetorpresearch/</a>
</p>

-->

<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, user-scalable=no" />
    <title>Comparing sounds</title>
  </head>

  <body>
    <div id="container">
      <div id="instructions">
        <div>
          <h2>Comparing sounds using WebAudioXML</h2>
          Try to mimic the stored sound by making gestures on the play area!
        </div>
        <div id="buttons">
          <button onclick="webAudioXML.playSequence('_storedGesture')">
            Play stored gesture
          </button>
          <button
            id="button2"
            disabled
            onclick="webAudioXML.lastGesture.play()"
          >
            Play last gesture
          </button>
          <button
            id="button3"
            disabled
            onclick="compare(webAudioXML.lastGesture, webAudioXML.getSequence('_storedGesture')) ? 
            (document.getElementById('touchArea').style.cssText = 'border-color:green;', 
            document.getElementById('touchArea').innerHTML = 'YOU DID IT!') : 
            document.getElementById('touchArea').style.cssText = 'border-color:red;', 
            document.getElementById('touchArea').innerHTML = 'The gestures do not match..<br/> Try again!'"
          >
            Compare gestures
          </button>
        </div>
      </div>
      <div
        id="touchArea"
        onpointerdown="document.getElementById(this.id).innerHTML = '' ,
        document.getElementById(this.id).style.cssText = 'border-color:transparent;'"
        onpointerup="document.getElementById(this.id).innerHTML = 'Gesture saved', 
        document.getElementById('button2').disabled = false, 
        document.getElementById('button3').disabled = false"
      >
        Tap and slide to play
      </div>
    </div>

    <script src="WebAudioXML.js" data-source="audio.xml"></script>
    <script src="eventData.js"></script>
    <script src="comparison.js"></script>
  </body>
</html>
